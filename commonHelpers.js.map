{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(searchTerm) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY = '42535847-effe6d5cdde3e67806355c12e&q';\n  const IMG_TYPE = 'photo';\n  const ORIENTATION = 'horizontal';\n  const PARAMS = `?key=${KEY}&q=${searchTerm}&image_type=${IMG_TYPE}&orientation=${ORIENTATION}&safesearch=true`;\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  const options = {\n    headers: {},\n  };\n  return fetch(url, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw newError(res.status);\n    }\n  });\n}\n","export function galleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        comments,\n        views,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\"><a href=\"${largeImageURL}\">\n  <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" >\n  \n  <div class=\"img-details\">\n  <div class=\"img-details-item\">\n  <p>Likes</p>\n  <p>${likes}</p>\n  </div>\n  <div class=\"img-details-item\">\n  <p>Views</p>\n  <p>${views}</p>\n  </div>\n  <div class=\"img-details-item\">\n  <p>Comments</p>\n  <p>${comments}</p>\n  </div>\n  <div class=\"img-details-item\">\n  <p>Downloads</p>\n  <p>${downloads}</p>\n  </div>\n  </div>\n  </a>\n  </li>`;\n      }\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImages } from './js/pixabay-api';\nimport { galleryMarkup } from './js/render-functions';\n\nconst refs = {\n  formEl: document.querySelector('.search-form'),\n  imgGallery: document.querySelector('.gallery'),\n  submitBtn: document.querySelector('.submit'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader-container'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst iziToastOptions = {\n  theme: 'light',\n  backgroundColor: '#B51B1B',\n  messageColor: '#FFFFFF',\n  position: 'topRight',\n  iconColor: '#FFFFFF',\n  color: '#FFFFFF',\n};\n\nlightbox.on('show.simplelightbox');\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  refs.loader.classList.remove('hidden');\n  refs.gallery.innerHTML = '';\n\n  const query = e.target.elements.search.value.trim();\n  searchImages(query)\n    .then(resp => {\n      if (query === '') {\n        refs.loader.classList.add('hidden');\n        iziToast.error({\n          ...iziToastOptions,\n          message: 'Please, enter a request!',\n        });\n        return;\n      }\n      if (resp.hits.length === 0) {\n        refs.loader.classList.add('hidden');\n        iziToast.error({\n          ...iziToastOptions,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        refs.loader.classList.remove('hidden');\n        renderGallery(resp.hits);\n        refs.loader.classList.add('hidden');\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  e.target.reset();\n});\n\nfunction renderGallery(images) {\n  const markup = galleryMarkup(images);\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n"],"names":["searchImages","searchTerm","BASE_URL","END_POINT","PARAMS","url","res","galleryMarkup","images","webformatURL","largeImageURL","tags","likes","comments","views","downloads","refs","lightbox","SimpleLightbox","iziToastOptions","e","query","resp","iziToast","renderGallery","err","markup"],"mappings":"6vBAAO,SAASA,EAAaC,EAAY,CACvC,MAAMC,EAAW,sBACXC,EAAY,QAIZC,EAAS,+CAAiBH,CAAU,2DACpCI,EAAMH,EAAWC,EAAYC,EAKnC,OAAO,MAAMC,EAHG,CACd,QAAS,CAAE,CACf,CAC2B,EAAE,KAAKC,GAAO,CACrC,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,SAASA,EAAI,MAAM,CAE/B,CAAG,CACH,CCnBO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,CACR,IACe,qCAAqCL,CAAa;AAAA,oCAC7BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,OAKvDC,CAAK;AAAA;AAAA;AAAA;AAAA,OAILE,CAAK;AAAA;AAAA;AAAA;AAAA,OAILD,CAAQ;AAAA;AAAA;AAAA;AAAA,OAIRE,CAAS;AAAA;AAAA;AAAA;AAAA,QAMX,EACA,KAAK,EAAE,CACZ,CC/BA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,WAAY,SAAS,cAAc,UAAU,EAC7C,UAAW,SAAS,cAAc,SAAS,EAC3C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,mBAAmB,CACpD,EAEMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAkB,CACtB,MAAO,QACP,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,UAAW,UACX,MAAO,SACT,EAEAF,EAAS,GAAG,qBAAqB,EAEjCD,EAAK,OAAO,iBAAiB,SAAUI,GAAK,CAC1CA,EAAE,eAAc,EAChBJ,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,QAAQ,UAAY,GAEzB,MAAMK,EAAQD,EAAE,OAAO,SAAS,OAAO,MAAM,OAC7CpB,EAAaqB,CAAK,EACf,KAAKC,GAAQ,CACZ,GAAID,IAAU,GAAI,CAChBL,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCO,EAAS,MAAM,CACb,GAAGJ,EACH,QAAS,0BACnB,CAAS,EACD,MACD,CACGG,EAAK,KAAK,SAAW,GACvBN,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCO,EAAS,MAAM,CACb,GAAGJ,EACH,QACE,0EACZ,CAAS,IAEDH,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCQ,EAAcF,EAAK,IAAI,EACvBN,EAAK,OAAO,UAAU,IAAI,QAAQ,EAE1C,CAAK,EACA,MAAMS,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACHL,EAAE,OAAO,OACX,CAAC,EAED,SAASI,EAAchB,EAAQ,CAC7B,MAAMkB,EAASnB,EAAcC,CAAM,EACnCQ,EAAK,QAAQ,mBAAmB,YAAaU,CAAM,EACnDT,EAAS,QAAO,CAClB"}